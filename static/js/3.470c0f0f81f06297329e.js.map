{"version":3,"sources":["webpack:///src/pages/Credit/index.vue","webpack:///./src/pages/Credit/template.html","webpack:///./src/pages/Credit/index.vue"],"names":["CreditDataRef","firebase","database","ref","Credit","name","data","tempCreditData","class","other_class","title","credit","CreditData","CreditDataArray","selectClass","created","this","getData","methods","vm","on","snapshot","forEach","childSnapshot","childData","val","push","submitCredit","temData","str","timestamp","Math","floor","Date","now","id","child","set","removeCredit","key","computed","className","allClass","item","filter","element","index","arr","indexOf","template","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","for","_v","directives","rawName","value","expression","change","$event","$$selectedVal","Array","prototype","call","target","options","o","selected","map","_value","$set","multiple","_l","domProps","_s","type","placeholder","input","composing","click","_m","scope","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.470c0f0f81f06297329e.js","sourcesContent":["<script>\r\n/* global firebase */\r\nlet CreditDataRef = firebase.database().ref('/creditData')\r\n// console.log(CreditDataRef)\r\nexport default {\r\n  name: 'credit',\r\n  data() {\r\n    return {\r\n      tempCreditData: {\r\n        class: '',\r\n        other_class: '',\r\n        title: '',\r\n        credit: ''\r\n      },\r\n      CreditData: [],\r\n      CreditDataArray: [],\r\n      selectClass: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.getData()\r\n  },\r\n  methods: {\r\n    /* 取得 Data */\r\n    getData() {\r\n      let vm = this\r\n      CreditDataRef.on('value', function(snapshot) {\r\n        // array 使用\r\n        snapshot.forEach(function(childSnapshot) {\r\n          // var key = childSnapshot.key\r\n          var childData = childSnapshot.val()\r\n          // console.log(key, childData)\r\n          vm.CreditDataArray.push(childData)\r\n          // vm.CreditDataArray = childData\r\n          // console.log(vm.CreditDataArray)\r\n        })\r\n        var val = snapshot.val()\r\n        // console.log(val)\r\n        vm.CreditData = val\r\n        // console.log(vm.CreditData)\r\n      })\r\n    },\r\n\r\n    /* 送出 Data */\r\n    submitCredit() {\r\n      // alert('有呼叫到')\r\n      let vm = this\r\n      var temData = vm.tempCreditData\r\n\r\n      // 沒有內容 不送出\r\n      if (!temData.title) {\r\n        return\r\n      }\r\n\r\n      // 內容設定\r\n      var str = {}\r\n      var timestamp = Math.floor(Date.now())\r\n      // console.log(timestamp)\r\n      if (!temData.other_class) {\r\n        str = {\r\n          id: timestamp,\r\n          class: temData.class,\r\n          title: temData.title,\r\n          credit: temData.credit\r\n        }\r\n      } else {\r\n        str = {\r\n          id: timestamp,\r\n          class: temData.other_class,\r\n          title: temData.title,\r\n          credit: temData.credit\r\n        }\r\n      }\r\n\r\n      // set 到 firebase 裡\r\n      CreditDataRef.child(timestamp).set(str)\r\n      // alert('push 完成')\r\n\r\n      // 清空資訊\r\n      vm.tempCreditData = {\r\n        class: '',\r\n        other_class: '',\r\n        title: '',\r\n        credit: ''\r\n      }\r\n    },\r\n\r\n    /* 刪除 Data */\r\n    removeCredit(key) {\r\n      CreditDataRef.child(key).set(null)\r\n      // console.log(key)\r\n    }\r\n  },\r\n  computed: {\r\n    // 類別列表\r\n    className() {\r\n      let vm = this\r\n      var str = ''\r\n      var allClass = []\r\n      // console.log(vm.CreditData)\r\n      vm.CreditDataArray.forEach(function(item) {\r\n        str = item.class\r\n        allClass.push(str)\r\n      })\r\n      // console.log(allClass)\r\n      // 篩選出第一個符合的 element\r\n      var result = allClass.filter(function(element, index, arr) {\r\n        return arr.indexOf(element) === index\r\n      })\r\n      return result\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template src=\"./template.html\"></template>\r\n<style lang=\"scss\" src=\"./style.scss\" scoped></style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Credit/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"credit\"},[_c('main',[_c('div',{staticClass:\"container my-5\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-5 \"},[_c('div',{staticClass:\"input-data bg-white rounded p-3 sticky-top align-items-start\"},[_c('form',[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-md-7\"},[_c('label',{attrs:{\"for\":\"theme\"}},[_vm._v(\"類別\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempCreditData.class),expression:\"tempCreditData.class\"}],staticClass:\"form-control\",attrs:{\"id\":\"exampleFormControlSelect1\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.tempCreditData, \"class\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"--- 請選擇類別 ---\")]),_vm._v(\" \"),_vm._l((_vm.className),function(item){return _c('option',{domProps:{\"value\":item}},[_vm._v(_vm._s(item))])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"form-group col-md-5\"},[_c('label',{attrs:{\"for\":\"theme\"}},[_vm._v(\"其他類別\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempCreditData.other_class),expression:\"tempCreditData.other_class\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"theme\",\"placeholder\":\"不再列表內才需填寫\"},domProps:{\"value\":(_vm.tempCreditData.other_class)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempCreditData, \"other_class\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"theme\"}},[_vm._v(\"公會學會名稱\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempCreditData.title),expression:\"tempCreditData.title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"theme\",\"placeholder\":\"例: 中華民國醫師公會全國聯合會\"},domProps:{\"value\":(_vm.tempCreditData.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempCreditData, \"title\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"theme\"}},[_vm._v(\"教育學分數\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempCreditData.credit),expression:\"tempCreditData.credit\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"theme\",\"placeholder\":\"例: 3 或 乙類3\"},domProps:{\"value\":(_vm.tempCreditData.credit)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempCreditData, \"credit\", $event.target.value)}}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary w-100\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.submitCredit()}}},[_vm._v(\"新 增\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-7 show-data\"},[_c('div',{staticClass:\"form-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectClass),expression:\"selectClass\"}],staticClass:\"form-control\",attrs:{\"id\":\"exampleFormControlSelect1\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectClass=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"--- 請選擇類別 ---\")]),_vm._v(\" \"),_vm._l((_vm.className),function(item){return _c('option',{domProps:{\"value\":item}},[_vm._v(_vm._s(item))])})],2),_vm._v(\" \"),_c('table',{staticClass:\"table mt-3\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.CreditData),function(item,key){return (_vm.selectClass === '' | _vm.selectClass === item.class)?_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.credit))]),_vm._v(\" \"),_c('td',{attrs:{\"scope\":\"col\"}},[_c('button',{staticClass:\"btn btn-sm btn-outline-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.removeCredit(key)}}},[_vm._v(\"刪除\")])])]):_vm._e()}))])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-teal\"},[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"公會學會名稱\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"教育學分數\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07b96a43\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./src/pages/Credit/template.html\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-07b96a43\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!./style.scss\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-07b96a43\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!./template.html\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-07b96a43\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Credit/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}