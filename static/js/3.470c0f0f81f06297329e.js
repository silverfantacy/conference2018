webpackJsonp([3],{"09wi":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=firebase.database().ref("/creditData"),r={name:"credit",data:function(){return{tempCreditData:{class:"",other_class:"",title:"",credit:""},CreditData:[],CreditDataArray:[],selectClass:""}},created:function(){this.getData()},methods:{getData:function(){var t=this;s.on("value",function(e){e.forEach(function(e){var a=e.val();t.CreditDataArray.push(a)});var a=e.val();t.CreditData=a})},submitCredit:function(){var t=this.tempCreditData;if(t.title){var e={},a=Math.floor(Date.now());e=t.other_class?{id:a,class:t.other_class,title:t.title,credit:t.credit}:{id:a,class:t.class,title:t.title,credit:t.credit},s.child(a).set(e),this.tempCreditData={class:"",other_class:"",title:"",credit:""}}},removeCredit:function(t){s.child(t).set(null)}},computed:{className:function(){var t="",e=[];return this.CreditDataArray.forEach(function(a){t=a.class,e.push(t)}),e.filter(function(t,e,a){return a.indexOf(t)===e})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"credit"},[a("main",[a("div",{staticClass:"container my-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5 "},[a("div",{staticClass:"input-data bg-white rounded p-3 sticky-top align-items-start"},[a("form",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-7"},[a("label",{attrs:{for:"theme"}},[t._v("類別")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tempCreditData.class,expression:"tempCreditData.class"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.tempCreditData,"class",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("--- 請選擇類別 ---")]),t._v(" "),t._l(t.className,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)]),t._v(" "),a("div",{staticClass:"form-group col-md-5"},[a("label",{attrs:{for:"theme"}},[t._v("其他類別")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCreditData.other_class,expression:"tempCreditData.other_class"}],staticClass:"form-control",attrs:{type:"text",id:"theme",placeholder:"不再列表內才需填寫"},domProps:{value:t.tempCreditData.other_class},on:{input:function(e){e.target.composing||t.$set(t.tempCreditData,"other_class",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"theme"}},[t._v("公會學會名稱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCreditData.title,expression:"tempCreditData.title"}],staticClass:"form-control",attrs:{type:"text",id:"theme",placeholder:"例: 中華民國醫師公會全國聯合會"},domProps:{value:t.tempCreditData.title},on:{input:function(e){e.target.composing||t.$set(t.tempCreditData,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"theme"}},[t._v("教育學分數")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCreditData.credit,expression:"tempCreditData.credit"}],staticClass:"form-control",attrs:{type:"text",id:"theme",placeholder:"例: 3 或 乙類3"},domProps:{value:t.tempCreditData.credit},on:{input:function(e){e.target.composing||t.$set(t.tempCreditData,"credit",e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary w-100",attrs:{type:"submit"},on:{click:function(e){t.submitCredit()}}},[t._v("新 增")])])])]),t._v(" "),a("div",{staticClass:"col-7 show-data"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectClass,expression:"selectClass"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectClass=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("--- 請選擇類別 ---")]),t._v(" "),t._l(t.className,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])})],2),t._v(" "),a("table",{staticClass:"table mt-3"},[t._m(0),t._v(" "),a("tbody",t._l(t.CreditData,function(e,s){return""===t.selectClass|t.selectClass===e.class?a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.title))]),t._v(" "),a("td",[t._v(t._s(e.credit))]),t._v(" "),a("td",{attrs:{scope:"col"}},[a("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button"},on:{click:function(e){t.removeCredit(s)}}},[t._v("刪除")])])]):t._e()}))])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"thead-teal"},[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("公會學會名稱")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("教育學分數")]),this._v(" "),e("th",{attrs:{scope:"col"}})])])}]};var l=a("VU/8")(r,i,!1,function(t){a("yeps")},"data-v-07b96a43",null);e.default=l.exports},yeps:function(t,e){}});
//# sourceMappingURL=3.470c0f0f81f06297329e.js.map